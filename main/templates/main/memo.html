<!DOCTYPE html>
<html lang="en">

{%load static%}
<head>
  <meta charset="UTF-8">
  <title>Memo Page</title>
  <!-- Bootstrap CSS -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
  <!-- Your custom CSS -->
  <link href="{% static 'css/style.css' %}" rel="stylesheet">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Navigation Bar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'index' %}">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'about' %}">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'portfolio' %}">Portfolio</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="{% url 'memo' %}">Memo</a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Memo Page Content -->
  <div class="container">
    <h1 class="mt-5 mb-3">메모장</h1>
    <button class="btn btn-primary mb-3"><a href="new_post/" class="text-white">메모 작성</a></button>
    <div class="row border-bottom mb-3">
      <div class="col-4 text-center">메모이름</div>
      <div class="col-4 text-center">최종수정일자 (정렬기준)</div>
      <div class="col-4 text-center">작성일자</div>
    </div>
    {% for post in page_obj %}
      <div class="row border-bottom mb-3">
        <div class="col-4 text-center"> <a href="{% url 'posting' pk=post.pk %}" class="text-success">{{ post.postname }}</a></div>
        <div class="col-4 text-center">{{ post.updated_at|date:"Y년 m월 d일 H:i" }}</div>
        <div class="col-4 text-center">{{ post.created_at|date:"Y년 m월 d일 H:i" }}</div>
      </div>
    {% empty %}
      <div class="row">
        <div class="col text-center">메모장이 비어있습니다!</div>
      </div>
    {% endfor %}
    
    <div class="d-flex justify-content-center align-items-center" style="height: 50vh;">
      <div class="pagination text-center">
        <span class="step-links">
          <span class="current">
            {{ page_obj.paginator.num_pages }} 페이지 중 {{ page_obj.number }} 페이지 (5개 초과하면 다음페이지로 넘어갑니다)
          </span>
          <br>
          {% if page_obj.has_previous %}
            <a href="?page=1">&laquo; 처음 / </a>
            <a href="?page={{ page_obj.previous_page_number }}">이전</a>
          {% endif %}

          {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">다음 / </a>
            <a href="?page={{ page_obj.paginator.num_pages }}">마지막 &raquo;</a>
          {% endif %}
        </span>
      </div>
    </div>
  </div>  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <div id="preloader"></div>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Template Main JS File -->
  <script src="{% static '/js/main.js' %}"></script>
</body>
</html>